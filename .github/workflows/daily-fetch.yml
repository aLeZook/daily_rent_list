name: Daily Rentcast Fetch

on:
  schedule:
    - cron: '0 9 * * *'  # Runs every day at 9:00 AM UTC
  workflow_dispatch:

jobs:
  fetch-data:
    runs-on: ubuntu-latest
    steps:
      - name: Make API Request
        run: |
          curl --request GET \
               --url 'https://api.rentcast.io/v1/listings/rental/long-term?city=San%20Marcos&state=CA&status=Active&limit=500' \
               --header "X-Api-Key: ${{ secrets.RENTCAST_API_KEY }}" \
               --header "accept: application/json" \
               --output rentcast_output.json
